# Release Notes — IntentusNet v1.5.1

**Release:** v1.5.1
**Codename:** Provable Determinism
**Date:** 2026-02-12

---

## Summary

IntentusNet v1.5.1 introduces **provable determinism** — execution behavior can now be cryptographically verified, drift-detected, and CI-enforced. Determinism is no longer just a design property; it is a measurable, enforceable guarantee.

---

## New Features

### Execution Fingerprinting

Every execution now produces a **SHA-256 fingerprint** computed from the intent sequence, agent call sequence, parameter hashes, output hashes, retry pattern, execution order, and timeout values.

- Same input + same runtime = same fingerprint
- Fingerprint mismatch = nondeterminism detected
- Fingerprints exclude wall-clock timestamps and execution IDs (nondeterministic by nature)

### Deterministic-Safe CI/CD Pipeline

A new 9-gate CI/CD verification pipeline enforces determinism before deployment:

| Gate | Purpose |
|------|---------|
| Build Reproducibility | Same source → same binary SHA-256 |
| Deterministic Execution | Same input → same fingerprint across N runs |
| WAL Replay Final-State | Replayed response hash matches original |
| Entropy Detection | Static scan blocks unseeded randomness in critical paths |
| Container Reproducibility | Same Dockerfile → same image hash |
| Routing Determinism | Same capabilities → same agent selection |
| Crash Recovery | Side-effect-aware resume/block decisions |
| WAL Integrity & Tamper | Hash chain + Ed25519 signature verification |
| Runtime Snapshot | Execution record survives serialization round-trip |

All 9 gates must pass. A single failure blocks deployment.

Pipeline definition: `.github/workflows/deterministic-stability.yml`

### Drift Detection

Automatic detection of nondeterministic execution through fingerprint comparison. If a nondeterministic agent is introduced, fingerprints diverge across runs, and the entropy detection gate blocks deployment.

### WAL Replay Verification

The `HistoricalResponseEngine` can now prove that stored responses match original execution by comparing content hashes. This is enforced in CI (Gate 3).

### Entropy Scanning

A new static analysis gate scans deterministic-critical code paths for entropy sources:

- Unseeded `random.random()` / `random.randint()`
- `uuid.uuid4()` in step IDs or fingerprint computation
- `time.time()` / `datetime.now()` in hash computation
- `os.urandom()` in hash computation

Known-safe uses are allowlisted (e.g., `uuid4()` for execution IDs, which are not part of fingerprints).

### Project Blackbox Demo

A new 8-act end-to-end demonstration (`examples/superdemo/`) proves all deterministic guarantees:

1. Deterministic Execution — identical intents, identical fingerprints
2. Replay Without Model — historical retrieval with zero re-execution
3. Failure Traceability — injected failure, deterministic fallback
4. Cryptographic Verification — Ed25519 signed WAL, tamper detection
5. Crash Recovery — reversible resume, irreversible block
6. Model Swap Safety — upgrade preserves historical records
7. EMCL Encryption — AES-256-GCM authenticated encryption
8. Deterministic Proof — fingerprint stability, replay proof, drift detection

Run: `python -m examples.superdemo.demo`

---

## CI Gate Scripts

New test scripts in `tests/ci/`:

| Script | Gate |
|--------|------|
| `gate_deterministic_execution.py` | Evaluation report thresholds |
| `gate_wal_replay_state.py` | WAL replay hash verification |
| `gate_entropy_detection.py` | Static entropy scanning |
| `gate_routing_determinism.py` | Agent selection determinism |
| `gate_crash_recovery.py` | Recovery decision correctness |
| `gate_wal_integrity.py` | Hash chain and signature verification |
| `gate_runtime_snapshot.py` | Serialization round-trip verification |

---

## Documentation

New documentation:

| Document | Description |
|----------|-------------|
| [docs/determinism.md](../determinism.md) | Execution fingerprinting, replay guarantee, drift detection |
| [docs/ci-cd.md](../ci-cd.md) | Complete 9-gate CI/CD specification |
| [docs/replay-and-wal.md](../replay-and-wal.md) | Replay, WAL, and crash recovery integration |

Updated documentation:

| Document | Changes |
|----------|---------|
| README.md | v1.5.1 badge, What's New section, Provable Determinism section, updated guarantees table |
| docs/roadmap.md | v1.5.1 as current release, updated near-term and future sections |

---

## Updated Guarantees

Three new guarantees added to the execution contract:

| Guarantee | Status |
|-----------|--------|
| Execution Fingerprinting | **Provided (v1.5.1)** |
| Deterministic-Safe CI/CD | **Provided (v1.5.1)** |
| Drift Detection | **Provided (v1.5.1)** |

---

## Breaking Changes

None. v1.5.1 is fully backward-compatible with v1.x.

---

## Migration

No migration required. Existing configurations continue to work unchanged. New features (fingerprinting, CI gates) are additive.

To enable the deterministic-safe CI/CD pipeline, ensure `.github/workflows/deterministic-stability.yml` is present in your repository.

---

## Known Limitations

- Entropy detection is static analysis only — it cannot detect runtime-generated entropy (e.g., from external APIs)
- Container reproducibility gate requires Docker and may not work in all CI environments
- Drift detection requires multiple runs of the same intent, which increases CI execution time

---

## Contributors

- Balachandar Manikandan
